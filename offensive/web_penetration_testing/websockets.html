<!DOCTYPE html>
<html lang="en-US">
<head>
<link rel="icon" type="image/x-icon" href="/conf/LOGO01.png">
<link rel="stylesheet" type="text/css" href="/conf/machete_style_offensive_sections.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="/conf/machete_conf.js"></script>
	
  <title> M A C H E T E </title>
  <!--------------------->
  <!-- b0ydC Founder -->
  <!-- --------------- -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8" />

</head>
<body>
<br>
<a href="/index.html"><img src="/conf/letter_logo.jpg" alt="LOGO" style="width:20%;"></a>
<br>
<center>
<div style="font-size:24px; text-align:center; font-family:courier,monospace;">
    <a href="/offensive.html">OFFENSIVE</a> |
    <a href="/defensive.html">DEFENSIVE</a> |
    <a href="/tools.html">WIKI</a> |
    <a href="/academy/platform.html">ACADEMY</a> |
    <a href="/about.html">ABOUT</a> 
</div> 
<p class="titulos"><mark>[WEBSOCKETS]</mark></p>
<div>
<pre>
<div class="column" style="display: inline-block; text-align: left; background-color:gray;">
<button onclick="document.location='/offensive/web_penetration_testing/client_side_attacks.html'" class="round" style="float: left;">&lt;&lt;</button><br><br>
<details>
<summary>GENERAL INFORMATION</summary>
<b>NOTE:</b> Present is most applications due to is present on HTTP itself. It provides a long lived connections with asynchronous communication
in both directions. bi-directional, full duplex.

Websockets will keep the connection open and idle until either the client or server is ready to send a message.

<b>Protocol:</b> not encrypted, <b>ws://</b> | encypted <b>wss://</b>

sample on how are instanciated ?

var ws = new WebSocket("wss://normal-website.com/chat");

there's 3 headers that can potentially help to discover it is a websocket connection.

request headers>>
Sec-WebSocket-Version: 13
Sec-WebSocket-Key: wDqumtseNBJdhkihL6PW7w==
Upgrade: websocket

response headers >>
Upgrade: websocket
Sec-WebSocket-Accept: 0FFP+2nmNIf/h+4BP36k9uzrYGk=

sample websocket message: ws.send("Peter Wiener");

any data format can be sent using websockets, however, it is pretty common to use JSON format. 

sometimes it is needed to manipulate the websocket handshake also. 
	
</details>
<details>
<summary>MANIPULATING WEBSOCKETS</summary>
needed to analyze the requests using burpsuite and look for references, common headers can help to identify.
also, the "Websockets history" tab is tracking all activity when websockets are present.

similar tehcniques can be applied. requests can be send to repeater and modifications can be in place. as we known, websockets
normally use JSON format. it is vulnerable to XSS, XML injection, etc. 

NOTE: sometimes part of the defense techniques is to convert some parameters to change it so they can lose some functionality.
for example, maybe the character "<" is converted to HTML, so it will not work. Or viceversa.

</details>
<details>
<summary>MANIPULATING WEBSOCKETS TO EXPLOIT VULNS</summary>
XSS
<b>C1:</b><mark id="XSW01">&lt;img src=1 onerror='alert(1)'&gt;</mark>

<button class="button_conf button_set" title="Ctrl+C" onclick="ctrl_C('#XSW01')">.C1.</button>

- also, sometimes restrictions can be in place, either IP restrictions, or XSS, SQLi, or more filters in place for defense.
X-forwarded-for header can be used to bypass restrictions.

Same XSS techniques can be used to test. important one. encoding and mixing. capital letters, and more.
	
</details>
</div>
</pre>
<button onclick="document.location='/offensive/web_penetration_testing/client_side_attacks.html'">GO BACK</button>
</div>
<p class="titulos">©® - 2023/2024.</p>
</center>
</body>
</html>
